# Frp-vs-Shap
On the comparison between feature relevancy, as measured by AXp and CXp, and SHAP scores 
(computed using Lundberg's SHAP tool or Barcelo's algorithms).

## Installation

1. Make sure you have [Python 3.7](https://www.python.org/downloads/) installed.
2. Run `pip install -r requirements.txt` to install the project dependencies.

## Description

1. The `datasets` folder contains all the datasets used in the paper.
2. The `examples` folder contains the compiled d-DNNF circuits.
3. The `samples` folder contains all the points in the feature space.
4. The `xddnnf` folder contains the explainer for d-DNNF circuits.
5. The `getAccuracy.py` script assesses the accuracy of d-DNNF circuits.
6. The `all_points.py` script generates all the points in the feature space.
7. The `useSHAP.py` script invokes Lundberg's SHAP tool to compute SHAP scores.
8. The `SHAPscore.py` script implements the algorithms for computing exact SHAP scores proposed by Barcelo.
9. The `exactSHAPscore.py` script computes the exact SHAP scores for all the points in the datasets.
10. The `compareRank.py` script compares and plots the feature contribution ranks generated by Lundberg's SHAP scores and Barcelo's exact SHAP scores. 
11. The `plot_disorder.py` script plots SHAP scores for instances where irrelevant features have greater (in absolute value) SHAP scores than relevant features.
12. The `max_min_shapley.py` script plots the number of instances where irrelevant features have greater (in absolute value) SHAP scores than relevant features, along with the maximal SHAP scores of irrelevant features and the minimal SHAP scores of relevant features.

## Citation
```
@article{huang2023inadequacy,
  title={The Inadequacy of Shapley Values for Explainability},
  author={Huang, Xuanxiang and Marques-Silva, Joao},
  journal={arXiv preprint arXiv:2302.08160},
  year={2023}
}
```